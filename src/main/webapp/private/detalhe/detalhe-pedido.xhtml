<ui:composition template="/WEB-INF/template/LayoutPadrao.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui">
    <ui:define name="titulo">Importar Clientes Shopify</ui:define>
    <ui:define name="corpo">
    <f:metadata>
        <o:viewParam name="pedido" value="#{detalhaPedidoControlador.pedidoShopifyDto}"/>
    </f:metadata>
    <h:form id="formOberlo">
        <p:growl id="messagens" showDetail="true"/>
            <p:panel header="Dados Pedido">
                <p:outputLabel rendered="#{detalhaPedidoControlador.pedidoShopifyDto.pedidoCancelado}" style="color: brown"
                               value=" Pedido Cancelado dia #{detalhaPedidoControlador.pedidoShopifyDto.dataCancelamentoFormatada}"/>
                <h:panelGrid columns="2">
                    <p:outputLabel value="Pedido:"/>
                    <p:link href="#{detalhaPedidoControlador.pedidoShopifyDto.linkPedidoShopify}"
                            value="##{detalhaPedidoControlador.pedidoShopifyDto.numeroPedido}" target="_blank"/>
                    <p:outputLabel value="Data Criação:"/>
                    <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.dataFormatada}"/>
                    <p:outputLabel value="Enviado:"/>
                    <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.enviado ? 'Sim':'Não'}"/>
                    <p:outputLabel value="Valor Total (R$):"/>
                    <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.valorTotal}"/>
                </h:panelGrid>
                <p:panel style="margin-top: 15px" >
                    <h:panelGrid columns="2" rendered="#{detalhaPedidoControlador.pedidoShopifyDto.cliente != null}">
                        <p:outputLabel value="Nome:"/>
                        <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.cliente.primeiroNome} #{detalhaPedidoControlador.pedidoShopifyDto.cliente.sobreNome}"/>
                        <p:outputLabel value="E-mail:"/>
                        <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.cliente.email}"/>
                        <p:outputLabel value="Telefone:"/>
                        <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.cliente.telefone}"/>
                        <p:outputLabel value="Endereço:"/>
                        <p:outputLabel value="#{detalhaPedidoControlador.pedidoShopifyDto.cliente.cidade}/#{detalhaPedidoControlador.pedidoShopifyDto.cliente.estado}"/>
                    </h:panelGrid>
                </p:panel>
            </p:panel>
        <p:dataTable var="item" value="#{detalhaPedidoControlador.pedidoShopifyDto.itens}"
                    emptyMessage="Nenhum Item!" style="margin-top: 15px">
            <f:facet name="header">
                Itens Pedido
            </f:facet>
            <p:column headerText="Produto">
                <p:outputLabel value="#{item.produto != null ? item.produto.nomeProduto:''}"/>
            </p:column>
            <p:column headerText="Variante">
                <p:outputLabel value="#{item.produto != null ? item.produto.varianteProduto:''}"/>
            </p:column>
            <p:column headerText="Quantidade">
                <p:outputLabel value="#{item.quantidadeProduto}"/>
            </p:column>
            <p:column headerText="Pedido Aliexpress" rendered="#{item.pedidoAliexpress != null}">
                <p:button value="#{item.pedidoAliexpress.idAliexpress.toString()}" outcome="/private/detalhe/detalhe-pedido-aliexpress">
                    <f:param name="pedidoAliexpress" value="#{item.pedidoAliexpress.idAliexpress}"/>
                </p:button>
            </p:column>
        </p:dataTable>
    </h:form>
    </ui:define>
</ui:composition>